<div class="communities-page">
  <div class="communities-container">
    <h1 class="page-title">Communities</h1>
    
    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading-state">
      <p>Loading communities...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="error && !isLoading" class="error-state">
      <p>{{ error }}</p>
      <button class="retry-btn" (click)="retry()">Retry</button>
    </div>

    <!-- Communities Grid -->
    <div *ngIf="!isLoading && !error" class="communities-grid">
      <div 
        *ngFor="let community of communities" 
        class="community-card"
        (click)="onCommunityClick(community)">
        <div class="community-image-container">
          <img [src]="community.image" [alt]="community.name" class="community-image" />
        </div>
        <div class="community-info">
          <h2 class="community-name">{{ community.name }}</h2>
          <p class="community-projects">{{ community.projectCount }} Projects</p>
        </div>
      </div>
    </div>
  </div>
</div>

<app-community-projects
  [community]="selectedCommunity"
  [isOpen]="isOverlayOpen"
  (close)="onCloseOverlay()">
</app-community-projects>

